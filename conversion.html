<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>文字変換ツール</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            background-color: #f0f0f0;
        }
        #converter {
            background-color: #fff;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        }
        input, button, select {
            margin-top: 10px;
            width: 100%;
            padding: 10px;
        }
    </style>
</head>
<body>
    <div id="converter">
        <h1>文字変換ツール</h1>
        <input type="text" id="inputText" placeholder="テキストを入力してください">
        <select id="conversionType">
            <option value="uppercase">大文字に変換</option>
            <option value="katakana">ひらがなをカタカナに変換</option>
            <option value="hiragana">カタカナをひらがなに変換</option>
            <option value="halfwidth">半角に変換</option>
            <option value="katakanaHalfwidth">カタカナ半角に変換</option>
            <option value="romajiToKatakana">ローマ字をカタカナに変換</option>
            <option value="translate">英語を日本語に翻訳</option>
        </select>
        <button onclick="convertText()">変換</button>
        <p id="outputText"></p>
    </div>

    <script>
        function convertText() {
            const inputText = document.getElementById('inputText').value;
            const conversionType = document.getElementById('conversionType').value;
            let outputText = '';

            switch (conversionType) {
                case 'uppercase':
                    outputText = inputText.toUpperCase();
                    break;
                case 'katakana':
                    outputText = toKatakana(inputText);
                    break;
                case 'hiragana':
                    outputText = toHiragana(inputText);
                    break;
                case 'halfwidth':
                    outputText = toHalfwidth(inputText);
                    break;
                case 'katakanaHalfwidth':
                    outputText = toKatakanaHalfwidth(inputText);
                    break;
                case 'romajiToKatakana':
                    outputText = romajiToKatakana(inputText);
                    break;
                case 'translate':
                    outputText = translateToJapanese(inputText);
                    break;
                default:
                    outputText = inputText;
            }

            document.getElementById('outputText').innerText = outputText;
        }

        function toKatakana(text) {
            return text.replace(/[\u3041-\u3096]/g, function(match) {
                return String.fromCharCode(match.charCodeAt(0) + 0x60);
            });
        }

        function toHiragana(text) {
            return text.replace(/[\u30a1-\u30f6]/g, function(match) {
                return String.fromCharCode(match.charCodeAt(0) - 0x60);
            });
        }

        function toHalfwidth(text) {
            return text.replace(/[\uff01-\uff5e]/g, function(match) {
                return String.fromCharCode(match.charCodeAt(0) - 0xfee0);
            }).replace(/\u3000/g, ' ');
        }

        function toKatakanaHalfwidth(text) {
            return text.normalize("NFKC");
        }

        function translateToJapanese(text) {
            const dictionary = {
                "hello": "こんにちは",
                "world": "世界",
            };
            return dictionary[text.toLowerCase()] || text;
        }

        function romajiToKatakana(text) {
            const romajiMap = {
                "a": "ア", "i": "イ", "u": "ウ", "e": "エ", "o": "オ",
                "ka": "カ", "ki": "キ", "ku": "ク", "ke": "ケ", "ko": "コ",
                "sa": "サ", "shi": "シ", "su": "ス", "se": "セ", "so": "ソ",
                "ta": "タ", "chi": "チ", "tsu": "ツ", "te": "テ", "to": "ト",
                "na": "ナ", "ni": "ニ", "nu": "ヌ", "ne": "ネ", "no": "ノ",
                "ha": "ハ", "hi": "ヒ", "fu": "フ", "he": "ヘ", "ho": "ホ",
                "ma": "マ", "mi": "ミ", "mu": "ム", "me": "メ", "mo": "モ",
                "ya": "ヤ", "yu": "ユ", "yo": "ヨ",
                "ra": "ラ", "ri": "リ", "ru": "ル", "re": "レ", "ro": "ロ",
                "wa": "ワ", "wo": "ヲ", "n": "ン"
            };
            let result = "";
            let buffer = "";
            for (let char of text.toLowerCase()) {
                buffer += char;
                if (romajiMap[buffer]) {
                    result += romajiMap[buffer];
                    buffer = "";
                } else if (buffer.length > 2) {
                    result += buffer[0];
                    buffer = buffer.slice(1);
                }
            }
            return result + buffer;
        }
    </script>
</body>
</html>
